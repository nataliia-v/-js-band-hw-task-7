(this["webpackJsonpjs-band-hw-task-6"]=this["webpackJsonpjs-band-hw-task-6"]||[]).push([[0],{11:function(e,t,n){e.exports={todoItem:"TodoItem_todoItem__1j2Oi",todoItemDone:"TodoItem_todoItemDone__2J0C0",title:"TodoItem_title__7u1cn",description:"TodoItem_description__1do8o",container:"TodoItem_container__1u0a-",priority:"TodoItem_priority__1NzfK",iconDoneWrap:"TodoItem_iconDoneWrap__3v68o",iconDone:"TodoItem_iconDone__3bKR2",dotsButton:"TodoItem_dotsButton__3z08o"}},20:function(e,t,n){e.exports={wrapper:"ButtonDropdown_wrapper__1bM7L",options:"ButtonDropdown_options__1i3eI",option:"ButtonDropdown_option__3xto_"}},25:function(e,t,n){e.exports={form:"TodoForm_form__3kTcS",buttons:"TodoForm_buttons__y5o-6"}},27:function(e,t,n){e.exports={header:"Header_header__1v0yI",headerName:"Header_headerName__1AAI4"}},28:function(e,t,n){e.exports={footer:"Footer_footer__7dIj9",footerName:"Footer_footerName__ervDN"}},29:function(e,t,n){e.exports={wrapper:"ModalRoot_wrapper__1mUX1",modalContainer:"ModalRoot_modalContainer__f3Fa4"}},30:function(e,t,n){e.exports={app:"App_app__3BT4Y",mainContent:"App_mainContent__3msXo"}},36:function(e,t,n){e.exports={wrapper:"FormField_wrapper__2AQR7"}},37:function(e,t,n){e.exports={wrapper:"Filters_wrapper__1Ad5K"}},38:function(e,t,n){e.exports={wrapper:"Todos_wrapper__ARSC8"}},42:function(e,t,n){e.exports=n(53)},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),i=n(17),l=n(2),c=n(3),s=n(5),u=n(4),p=n(6),d=n(39),m=n(16),f=n(12),b=n(13),h=n(36),v=n.n(h);var O=function(e){var t=e.label,n=e.control;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:v.a.wrapper},o.a.createElement("span",null,t,":"),n))};var y=function(e){var t=e.type,n=void 0===t?"text":t,a=e.name,r=e.value,i=e.placeholder,l=e.onChange,c=e.required,s=void 0!==c&&c;return o.a.createElement("input",{className:"form-control",type:n,name:a,value:r,placeholder:i,onChange:l,required:s})};var E=function(e){var t=e.name,n=e.value,a=e.placeholder,r=e.onChange,i=e.rows,l=void 0===i?3:i;return o.a.createElement("textarea",{className:"form-control",name:t,value:n,placeholder:a,onChange:r,rows:l})};var _=function(e){var t=e.name,n=e.value,a=e.onChange,r=e.options;return o.a.createElement("select",{className:"form-control",name:t,value:n,onChange:a},r.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)})))},j=[{label:"High",value:"high"},{label:"Normal",value:"normal"},{label:"Low",value:"low"}],D={label:"All",value:"all"},g=[D,{label:"Open",value:"open"},{label:"Done",value:"done"}],w=[D].concat(j),C=n(25),T=n.n(C);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.currentTarget,a=t.name,o=t.value;n.setState((function(e){return{formValues:k({},e.formValues,Object(b.a)({},a,o))}}))},n.handleSubmit=function(e){e.preventDefault();var t=n.state.formValues;(0,n.props.onSubmit)(t)},n.state={formValues:{id:n.props.initialValues.id||Date.now(),done:n.props.initialValues.done,title:n.props.initialValues.title,description:n.props.initialValues.description,priority:n.props.initialValues.priority}},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.formValues,t=this.props.onClose;return o.a.createElement("form",{className:T.a.form,onSubmit:this.handleSubmit},o.a.createElement(O,{label:"Title",control:o.a.createElement(y,{name:"title",value:e.title,placeholder:"Title",onChange:this.handleChange,required:!0})}),o.a.createElement(O,{label:"Description",control:o.a.createElement(E,{name:"description",value:e.description,placeholder:"Description",onChange:this.handleChange})}),o.a.createElement(O,{label:"Priority",control:o.a.createElement(_,{name:"priority",value:e.priority,onChange:this.handleChange,options:j})}),o.a.createElement("div",{className:T.a.buttons},o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:t},"Cancel"),o.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Save")))}}]),t}(o.a.Component);M.defaultProps={initialValues:{id:null,done:!1,title:"",description:"",priority:"high"}};var I=M,P=o.a.createContext({activeModal:null,openModal:null,closeModal:null});P.displayName="ModalContext";var S=P,x=function(e){return e.filters},A=function(e){return{type:"SET_FILTER",payload:e}},V=n(37),F=n.n(V),R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).openTodoFormModal=function(){var e=n.context,t=e.openModal,a=e.closeModal;t({component:I,componentProps:{onSubmit:n.handleTodoFormSubmit,onClose:a}})},n.handleTodoFormSubmit=function(e){var t=n.props.onAddTodoItem,a=n.context.closeModal;t(e),a()},n.handleChange=function(e){var t=n.props.actions,a=e.currentTarget,o=a.name,r=a.value;t.setFilter({name:o,value:r})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.filters;return o.a.createElement("div",{className:F.a.wrapper},o.a.createElement(y,{name:"search",value:e.search,placeholder:"Search by title",onChange:this.handleChange}),o.a.createElement(_,{name:"status",value:e.status,onChange:this.handleChange,options:g}),o.a.createElement(_,{name:"priority",value:e.priority,onChange:this.handleChange,options:w}),o.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.openTodoFormModal},"Create"))}}]),t}(a.Component);R.contextType=S;var B=Object(i.b)((function(e){return{filters:x(e)}}),(function(e){return{actions:Object(f.a)({setFilter:A},e)}}))(R),L=function(e){return{type:"ADD_TODO",payload:e}},X=function(e){return{type:"EDIT_TODO",payload:e}},q=function(e){return{type:"REMOVE_TODO",id:e}},U=n(26),H=Object(U.a)((function(e){return e.todos}),(function(e){return e.items})),J=Object(U.a)(x,H,(function(e,t){var n=Object.keys(e).filter((function(t){return e[t]}));return t.filter((function(t){return n.every((function(n){switch(n){case"search":return new RegExp(e.search,"i").test(t.title);case"status":if(e.status===D.value)return!0;if("open"===e.status)return!t.done;if("done"===e.status)return t.done;break;case"priority":return e.priority===D.value||t.priority===e.priority;default:return!0}return null}))}))})),K=n(19),W=n.n(K),z=n(11),Q=n.n(z);var Y=function(){return o.a.createElement("button",{className:Q.a.dotsButton,type:"button"},"...")},G=n(20),Z=n.n(G),$=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggleDropdown=function(){n.setState((function(e){return{open:!e.open}}))},n.handleOptionClick=function(){n.setState({open:!1})},n.state={open:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.anchorElement,n=e.options,a=this.state.open;return o.a.createElement("div",{className:Z.a.wrapper},o.a.createElement("div",{className:Z.a.anchor,onClick:this.toggleDropdown},o.a.createElement(t,null)),a&&o.a.createElement("div",{className:Z.a.options,onClick:this.handleOptionClick},n.map((function(e){return"boolean"!==typeof e.isAvailable||e.isAvailable?o.a.createElement("button",{key:e.label,type:"button",onClick:e.onClick,className:Z.a.option},e.label):null}))))}}]),t}(a.Component),ee=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleDone=function(){var e=n.props,t=e.id;(0,e.onDone)(t)},n.handleEdit=function(){var e=n.props,t=e.id;(0,e.onEdit)(t)},n.handleDelete=function(){var e=n.props,t=e.id;(0,e.onDelete)(t)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,a=e.done;return o.a.createElement("div",{className:W()(Q.a.todoItem,Object(b.a)({},Q.a.todoItemDone,a))},a&&o.a.createElement("div",{className:Q.a.iconDoneWrap},o.a.createElement("i",{className:W()(Q.a.iconDone,"fa fa-check-square-o")})),o.a.createElement("p",{className:Q.a.title},t),o.a.createElement("p",{className:Q.a.description},n),o.a.createElement("div",{className:Q.a.container},o.a.createElement("span",{className:Q.a.priority},this.priorityValue),o.a.createElement($,{anchorElement:Y,options:this.todoItemOptions})))}},{key:"priorityValue",get:function(){var e=this.props.priority;return j.find((function(t){return t.value===e})).label}},{key:"todoItemOptions",get:function(){var e=this.props.done;return function(e){var t=e.canBeDone;return[{label:"Done",onClick:e.onDone,isAvailable:t},{label:"Edit",onClick:e.onEdit},{label:"Delete",onClick:e.onDelete}]}({onDone:this.handleDone,onEdit:this.handleEdit,onDelete:this.handleDelete,canBeDone:!e})}}]),t}(a.Component),te=n(38),ne=n.n(te),ae=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onAddTodoItem=function(e){n.props.actions.addTodo(e)},n.onDone=function(e){n.props.actions.editTodo({id:e,done:!0})},n.handleEdit=function(e){var t=n.context.closeModal;n.props.actions.editTodo(e),t()},n.onEdit=function(e){var t=n.context,a=t.openModal,o=t.closeModal,r=n.props.todos.find((function(t){return t.id===e}));a({component:I,componentProps:{onSubmit:n.handleEdit,initialValues:r,onClose:o}})},n.onDelete=function(e){n.props.actions.deleteTodo(e)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.todos;return o.a.createElement("div",null,o.a.createElement(B,{onAddTodoItem:this.onAddTodoItem}),o.a.createElement("div",{className:ne.a.wrapper},t.map((function(t){return o.a.createElement(ee,Object.assign({key:t.id,onDone:e.onDone,onEdit:e.onEdit,onDelete:e.onDelete},t))}))))}}]),t}(a.Component);ae.contextType=S;var oe=Object(i.b)((function(e){return{todos:J(e)}}),(function(e){return{actions:Object(f.a)({addTodo:L,deleteTodo:q,editTodo:X},e)}}))(ae),re=n(27),ie=n.n(re);var le=function(){return o.a.createElement("div",{className:ie.a.header},o.a.createElement("h1",{className:ie.a.headerName},"TODOList"))},ce=n(28),se=n.n(ce);var ue=function(e){var t=e.internName;return o.a.createElement("div",{className:se.a.footer},o.a.createElement("p",{className:se.a.footerName},t))},pe=n(29),de=n.n(pe),me=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onModalContainerClick=function(e){e.stopPropagation()},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.props.activeModal?document.body.classList.add("overflow-y-hidden"):document.body.classList.remove("overflow-y-hidden")}},{key:"render",value:function(){var e=this.props,t=e.activeModal,n=e.closeModal;if(!t)return null;var a=t.component,r=t.componentProps;return o.a.createElement("div",{className:de.a.wrapper,onClick:n},o.a.createElement("div",{className:W()(de.a.modalContainer,"card"),onClick:this.onModalContainerClick},o.a.createElement(a,r)))}}]),t}(o.a.Component),fe=n(30),be=n.n(fe),he=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).openModal=function(e){n.setState({activeModal:e})},n.closeModal=function(){n.setState({activeModal:null})},n.state={activeModal:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.activeModal;return o.a.createElement(S.Provider,{value:{activeModal:e,openModal:this.openModal,closeModal:this.closeModal}},o.a.createElement("div",{className:be.a.app},o.a.createElement(le,null),o.a.createElement(d.a,null,o.a.createElement("div",{className:be.a.mainContent},o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/todos",component:oe}),o.a.createElement(m.a,{from:"/",to:"/todos",exact:!0}),o.a.createElement(m.b,{path:"*"},"Oops..not found")),o.a.createElement(me,{activeModal:e,closeModal:this.closeModal}))),o.a.createElement(ue,{internName:"Nataliia Verbenska"})))}}]),t}(a.Component),ve=n(41);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee={items:[]};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={search:"",status:D.value,priority:D.value},ge=Object(f.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return ye({},e,{items:[].concat(Object(ve.a)(e.items),[t.payload])});case"EDIT_TODO":return ye({},e,{items:e.items.map((function(e){return e.id===t.payload.id?ye({},e,{},t.payload):e}))});case"REMOVE_TODO":return ye({},e,{items:e.items.filter((function(e){return e.id!==t.id}))});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"SET_FILTER":return je({},e,Object(b.a)({},n.name,n.value));default:return e}}}),we=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Ce=(n(52),Object(f.c)(ge,we));Object(r.render)(o.a.createElement(i.a,{store:Ce},o.a.createElement(he,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.5a920ca4.chunk.js.map